# ===========================================
# Minimoonoir - Private Community Relay
# Serverless Architecture: GitHub Pages + Cloudflare Workers
# ===========================================

# ===========================================
# NOSTR RELAY CONFIGURATION
# ===========================================
# Private relay URL - Cloudflare Workers deployment
# Replace with your deployed workers.dev URL
VITE_RELAY_URL=wss://your-worker.your-subdomain.workers.dev

# Federated relays (only used in federated mode)
# These are public relays for broader network access
PUBLIC_DEFAULT_RELAYS=wss://relay.damus.io,wss://relay.nostr.band,wss://nos.lol,wss://relay.primal.net

# ===========================================
# ADMIN CONFIGURATION
# ===========================================
# Admin public key in HEX format (64 characters, NOT npub)
# This key is used for admin access to the application
# To get hex pubkey from mnemonic: login, then check localStorage 'minimoonoir_keys'.publicKey
#
# SECURITY: This pubkey must also be added to the D1 whitelist:
#   wrangler d1 execute minimoonoir --command "INSERT INTO whitelist (pubkey, cohorts, added_at, added_by) VALUES ('your-hex-pubkey', '[\"admin\"]', strftime('%s','now'), 'system')"
VITE_ADMIN_PUBKEY=0000000000000000000000000000000000000000000000000000000000000000

# Admin private key in nsec format (starts with nsec1...)
# ⚠️ SECURITY: Keep this secret! Never commit to version control!
ADMIN_PROVKEY=nsec1...

# Admin BIP-39 mnemonic (12 or 24 words)
# ⚠️ SECURITY: Backup securely! This is your recovery phrase!
# Used for key recovery if you lose your nsec
ADMIN_KEY="word1 word2 word3 ... word12"

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
VITE_APP_NAME=Minimoonoir
VITE_APP_VERSION=0.1.0

# Enable NDK debug logging (DO NOT enable in production)
VITE_NDK_DEBUG=false

# ===========================================
# CLOUDFLARE DEPLOYMENT (LOCAL DEVELOPMENT ONLY)
# ===========================================
# ⚠️ SECURITY: Never commit real credentials!
# For CI/CD, use GitHub Secrets instead:
#   - CLOUDFLARE_ACCOUNT_ID
#   - CLOUDFLARE_API_TOKEN
#
# Get Account ID from: Cloudflare Dashboard > Workers & Pages > Overview
# Create API Token at: Cloudflare Dashboard > Profile > API Tokens
#   Required permissions: Account:Workers Scripts:Edit, Account:D1:Edit
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=

# ===========================================
# D1 DATABASE CONFIGURATION
# ===========================================
# Database ID from: wrangler d1 list
# Create database: wrangler d1 create minimoonoir
D1_DATABASE_ID=

# ===========================================
# SEMANTIC SEARCH CONFIGURATION
# ===========================================
# Embedding API Worker URL (for client-side query embedding)
# Deploy the worker from workers/embedding-api/
VITE_EMBEDDING_API_URL=https://minimoonoir-embedding-api.your-subdomain.workers.dev

# R2 Storage URL for embeddings index (public read access)
# Create bucket: Cloudflare Dashboard > R2 > Create bucket
VITE_R2_EMBEDDINGS_URL=https://pub-your-bucket-id.r2.dev

# R2 API credentials for embedding pipeline (GitHub Actions)
# Create R2 API Token: Cloudflare Dashboard > R2 > Manage R2 API Tokens
CLOUDFLARE_R2_ACCESS_KEY=
CLOUDFLARE_R2_SECRET_KEY=
